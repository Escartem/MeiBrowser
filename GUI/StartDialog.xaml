<Window x:Class="GUI.StartDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GUI"
        WindowStartupLocation="CenterOwner"
        WindowStyle="ToolWindow" ResizeMode="NoResize"
        mc:Ignorable="d"
        Background="{DynamicResource WindowBackgroundBrush}"
        Title="Select Game Options" Height="470" Width="600">

    <Grid>
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="75"/>
            </Grid.ColumnDefinitions>

            <!-- Mode -->
            <TextBlock Grid.Row="0" Grid.Column="0" Text="Mode:" VerticalAlignment="Center"/>
            <ComboBox Margin="15" x:Name="ModeCombo" Grid.Column="1" Grid.Row="0" Height="30"
                SelectionChanged="ModeCombo_SelectionChanged" />

            <Button x:Name="ModeHelpButton" Grid.Row="0" Grid.Column="2" Content="Infos" Height="32" Width="75"
                HorizontalAlignment="Right" Click="ModeHelpButton_Click" />

            <!-- Game -->
            <TextBlock Grid.Row="1" Grid.Column="0" Text="Game:" VerticalAlignment="Center"/>
            <ComboBox Margin="15" Grid.Row="1" Grid.Column="1" x:Name="GameCombo" Height="30" IsEnabled="False" SelectionChanged="GameCombo_SelectionChanged">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="{Binding Icon}" Width="24" Height="24" Margin="0,0,5,0"/>
                            <TextBlock Text="{Binding Name}"/>
                        </StackPanel>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <!-- Server -->
            <TextBlock x:Name="ServerTitle" Grid.Row="2" Grid.Column="0" Text="Region:" VerticalAlignment="Center"/>
            <ComboBox Margin="15" x:Name="ServerCombo" Grid.Column="1" Grid.Row="2" Height="30"
                    IsEnabled="False"
                    SelectionChanged="ServerCombo_SelectionChanged" />

            <!-- Custom sophon -->
            <TextBlock x:Name="CustomSophonTitle" Visibility="Hidden" Grid.Row="2" Grid.Column="0" Text="URL:" VerticalAlignment="Center"/>
            <TextBox Visibility="Hidden" x:Name="CustomSophonUrl" Margin="15" Grid.Column="1" Grid.Row="2" Height="30" Background="{DynamicResource ControlBackgroundBrush}" Foreground="{DynamicResource WindowForegroundBrush}" BorderThickness="1"/>
            <Button Visibility="Hidden" x:Name="CheckSophonButton" Grid.Row="2" Grid.Column="2" Content="Check" Height="32" Width="75"
                HorizontalAlignment="Right" Click="CheckSophonButton_Click" />
            
            <!-- Version -->
            <TextBlock Grid.Row="3" Grid.Column="0" Text="Version:" VerticalAlignment="Center"/>
            <ComboBox Margin="15" x:Name="VersionCombo" Grid.Column="1" Grid.Row="3" Height="30"
                    IsEnabled="False"
                    SelectionChanged="VersionCombo_SelectionChanged"/>

            <!-- Category -->
            <TextBlock Grid.Row="4" Grid.Column="0" Text="Package:" VerticalAlignment="Center"/>
            <ComboBox Margin="15" x:Name="CategoryCombo" Grid.Column="1" Grid.Row="4" Height="30"
                    IsEnabled="False"
                    SelectionChanged="CategoryCombo_SelectionChanged"/>

            <!-- Diff mode -->
            <TextBlock Grid.Row="5" Grid.Column="0" Text="Diff Mode:" VerticalAlignment="Center"/>
            <CheckBox x:Name="DiffMode" IsEnabled="False" Margin="15" Grid.Row="5" Grid.Column="1" Grid.ColumnSpan="2" Content="Only show new/changed files from previous version" IsThreeState="False"/>

            <Button x:Name="STokenButton" Grid.Row="6" Grid.Column="0" Content="Custom Build" Height="32" Width="100"
                HorizontalAlignment="Center" Click="STokenButton_Click"  Background="#2A2A2A"/>

            <Button x:Name="ConfirmButton" IsEnabled="False" Grid.Row="6" Grid.Column="1" Grid.ColumnSpan="2" Content="Confirm" Height="32" Width="100"
                HorizontalAlignment="Right" Click="Confirm_Click" />
        </Grid>

        <Grid x:Name="LoadingOverlay" Background="#80000000" Visibility="Collapsed" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="Loading..." Foreground="{DynamicResource WindowForegroundBrush}" FontSize="16" HorizontalAlignment="Center"/>
                <ProgressBar IsIndeterminate="True" Width="200" Height="20"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
